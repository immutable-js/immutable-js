{"pageProps":{"versions":["v4.2.0","v3.8.2","latest@main"],"version":"v4.2.0","def":{"qualifiedName":"fromJS","call":{"name":"fromJS","label":"fromJS()","id":"fromJS()","doc":{"synopsis":"<p>Deeply converts plain JS objects and arrays to Immutable Maps and Lists.</p>\n","description":"<p><code><a href=\"/docs/v4.2.0/fromJS()\">fromJS</a></code> will convert Arrays and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Indexed_collections#working_with_array-like_objects\" title=\"Working with array-like objects\">array-like objects</a> to a List, and\nplain objects (without a custom prototype) to a Map. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#the_iterable_protocol\" title=\"The iterable protocol\">Iterable objects</a>\nmay be converted to List, Map, or Set.</p>\n<p>If a <code><span class=\"t param\">reviver</span></code> is optionally provided, it will be called with every\ncollection as a Seq (beginning with the most nested collections\nand proceeding to the top-level collection itself), along with the key\nreferring to each collection and the parent JS object provided as <code><span class=\"token var\" >this</span></code>.\nFor the top level, object, the key will be <code><span class=\"token string\" >\"\"</span></code>. This <code><span class=\"t param\">reviver</span></code> is expected\nto return a new Immutable Collection, allowing for custom conversions from\ndeep JS objects. Finally, a <code>path</code> is provided which is the sequence of\nkeys to this value from the starting value.</p>\n<p><code><span class=\"t param\">reviver</span></code> acts similarly to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Example.3A_Using_the_reviver_parameter\" title=\"Using the reviver parameter\">same parameter in <code><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\" target=\"_blank\" rel=\"noopener\">JSON.parse</a></code></a>.</p>\n<p>If <code><span class=\"t param\">reviver</span></code> is not provided, the default behavior will convert Objects\ninto Maps and Arrays into Lists like so:</p>\n<!-- runkit:activate -->\n<code class=\"codeBlock\"><span class=\"token keyword\" >const</span> <span class=\"token punctuation\" >{</span> fromJS<span class=\"token punctuation\" >,</span> isKeyed <span class=\"token punctuation\" >}</span> <span class=\"token operator\" >=</span> require<span class=\"token punctuation\" >(</span><span class=\"token string\" >'immutable'</span><span class=\"token punctuation\" >)</span>\n<span class=\"token block-keyword\" >function</span> <span class=\"token punctuation\" >(</span>key<span class=\"token punctuation\" >,</span> value<span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n  <span class=\"token keyword\" >return</span> isKeyed<span class=\"token punctuation\" >(</span>value<span class=\"token punctuation\" >)</span> <span class=\"token operator\" >?</span> value<span class=\"token punctuation\" >.</span>toMap<span class=\"token punctuation\" >(</span><span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >:</span> value<span class=\"token punctuation\" >.</span>toList<span class=\"token punctuation\" >(</span><span class=\"token punctuation\" >)</span>\n<span class=\"token punctuation\" >}</span><a class=\"try-it\" data-options=\"%7B%7D\" onClick=\"runIt(this,'v4.2.0')\">run it</a></code><p>Accordingly, this example converts native JS data to OrderedMap and List:</p>\n<!-- runkit:activate -->\n<code class=\"codeBlock\"><span class=\"token keyword\" >const</span> <span class=\"token punctuation\" >{</span> fromJS<span class=\"token punctuation\" >,</span> isKeyed <span class=\"token punctuation\" >}</span> <span class=\"token operator\" >=</span> require<span class=\"token punctuation\" >(</span><span class=\"token string\" >'immutable'</span><span class=\"token punctuation\" >)</span>\nfromJS<span class=\"token punctuation\" >(</span><span class=\"token punctuation\" >{</span> a<span class=\"token punctuation\" >:</span> <span class=\"token punctuation\" >{</span>b<span class=\"token punctuation\" >:</span> <span class=\"token punctuation\" >[</span><span class=\"token number\" >10</span><span class=\"token punctuation\" >,</span> <span class=\"token number\" >20</span><span class=\"token punctuation\" >,</span> <span class=\"token number\" >30</span><span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >,</span> c<span class=\"token punctuation\" >:</span> <span class=\"token number\" >40</span><span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >,</span> <span class=\"token block-keyword\" >function</span> <span class=\"token punctuation\" >(</span>key<span class=\"token punctuation\" >,</span> value<span class=\"token punctuation\" >,</span> path<span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >{</span>\n  console<span class=\"token punctuation\" >.</span>log<span class=\"token punctuation\" >(</span>key<span class=\"token punctuation\" >,</span> value<span class=\"token punctuation\" >,</span> path<span class=\"token punctuation\" >)</span>\n  <span class=\"token keyword\" >return</span> isKeyed<span class=\"token punctuation\" >(</span>value<span class=\"token punctuation\" >)</span> <span class=\"token operator\" >?</span> value<span class=\"token punctuation\" >.</span>toOrderedMap<span class=\"token punctuation\" >(</span><span class=\"token punctuation\" >)</span> <span class=\"token punctuation\" >:</span> value<span class=\"token punctuation\" >.</span>toList<span class=\"token punctuation\" >(</span><span class=\"token punctuation\" >)</span>\n<span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >)</span>\n\n<span class=\"token operator\" >></span> <span class=\"token string\" >\"b\"</span><span class=\"token punctuation\" >,</span> <span class=\"token punctuation\" >[</span> <span class=\"token number\" >10</span><span class=\"token punctuation\" >,</span> <span class=\"token number\" >20</span><span class=\"token punctuation\" >,</span> <span class=\"token number\" >30</span> <span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >,</span> <span class=\"token punctuation\" >[</span> <span class=\"token string\" >\"a\"</span><span class=\"token punctuation\" >,</span> <span class=\"token string\" >\"b\"</span> <span class=\"token punctuation\" >]</span>\n<span class=\"token operator\" >></span> <span class=\"token string\" >\"a\"</span><span class=\"token punctuation\" >,</span> <span class=\"token punctuation\" >{</span>b<span class=\"token punctuation\" >:</span> <span class=\"token punctuation\" >[</span><span class=\"token number\" >10</span><span class=\"token punctuation\" >,</span> <span class=\"token number\" >20</span><span class=\"token punctuation\" >,</span> <span class=\"token number\" >30</span><span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >,</span> <span class=\"token punctuation\" >[</span> <span class=\"token string\" >\"a\"</span> <span class=\"token punctuation\" >]</span>\n<span class=\"token operator\" >></span> <span class=\"token string\" >\"\"</span><span class=\"token punctuation\" >,</span> <span class=\"token punctuation\" >{</span>a<span class=\"token punctuation\" >:</span> <span class=\"token punctuation\" >{</span>b<span class=\"token punctuation\" >:</span> <span class=\"token punctuation\" >[</span><span class=\"token number\" >10</span><span class=\"token punctuation\" >,</span> <span class=\"token number\" >20</span><span class=\"token punctuation\" >,</span> <span class=\"token number\" >30</span><span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >,</span> c<span class=\"token punctuation\" >:</span> <span class=\"token number\" >40</span><span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >,</span> <span class=\"token punctuation\" >[</span><span class=\"token punctuation\" >]</span><a class=\"try-it\" data-options=\"%7B%7D\" onClick=\"runIt(this,'v4.2.0')\">run it</a></code><p>Keep in mind, when using JS objects to construct Immutable Maps, that\nJavaScript Object properties are always strings, even if written in a\nquote-less shorthand, while Immutable Maps accept keys of any type.</p>\n<!-- runkit:activate -->\n<code class=\"codeBlock\"><span class=\"token keyword\" >const</span> <span class=\"token punctuation\" >{</span> <span class=\"token qualifier\" >Map</span> <span class=\"token punctuation\" >}</span> <span class=\"token operator\" >=</span> require<span class=\"token punctuation\" >(</span><span class=\"token string\" >'immutable'</span><span class=\"token punctuation\" >)</span>\n<span class=\"token keyword\" >let</span> obj <span class=\"token operator\" >=</span> <span class=\"token punctuation\" >{</span> <span class=\"token number\" >1</span><span class=\"token punctuation\" >:</span> <span class=\"token string\" >\"one\"</span> <span class=\"token punctuation\" >}</span><span class=\"token punctuation\" >;</span>\n<span class=\"token qualifier\" >Object</span><span class=\"token punctuation\" >.</span>keys<span class=\"token punctuation\" >(</span>obj<span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span> <span class=\"token comment\" spellcheck=\"true\">// [ \"1\" ]\n</span>assert<span class=\"token punctuation\" >.</span>equal<span class=\"token punctuation\" >(</span>obj<span class=\"token punctuation\" >[</span><span class=\"token string\" >\"1\"</span><span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >,</span> obj<span class=\"token punctuation\" >[</span><span class=\"token number\" >1</span><span class=\"token punctuation\" >]</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span> <span class=\"token comment\" spellcheck=\"true\">// \"one\" === \"one\"\n</span>\n<span class=\"token keyword\" >let</span> map <span class=\"token operator\" >=</span> <span class=\"token qualifier\" >Map</span><span class=\"token punctuation\" >(</span>obj<span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span>\nassert<span class=\"token punctuation\" >.</span>notEqual<span class=\"token punctuation\" >(</span>map<span class=\"token punctuation\" >.</span><span class=\"token keyword\" >get</span><span class=\"token punctuation\" >(</span><span class=\"token string\" >\"1\"</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >,</span> map<span class=\"token punctuation\" >.</span><span class=\"token keyword\" >get</span><span class=\"token punctuation\" >(</span><span class=\"token number\" >1</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >)</span><span class=\"token punctuation\" >;</span> <span class=\"token comment\" spellcheck=\"true\">// \"one\" !== undefined</span><a class=\"try-it\" data-options=\"%7B%7D\" onClick=\"runIt(this,'v4.2.0')\">run it</a></code><p>Property access for JavaScript Objects first converts the key to a string,\nbut since Immutable Map keys can be of any type the argument to <code><a href=\"/docs/v4.2.0/get()\">get()</a></code> is\nnot altered.</p>\n","notes":[]},"signatures":[{"line":5150,"params":[{"name":"jsValue","type":{"k":2}},{"name":"reviver","type":{"k":10,"params":[{"name":"key","type":{"k":13,"types":[{"k":7},{"k":6}]}},{"name":"sequence","type":{"k":13,"types":[{"k":12,"name":"Collection.Keyed","args":[{"k":7},{"k":2}]},{"k":12,"name":"Collection.Indexed","args":[{"k":2}]}]}},{"name":"path","type":{"k":12,"name":"Array","args":[{"k":13,"types":[{"k":7},{"k":6}]}]},"optional":true}],"type":{"k":2}},"optional":true}],"type":{"k":12,"name":"Collection","args":[{"k":2},{"k":2}],"url":"/docs/v4.2.0/Collection"}}],"url":"/docs/v4.2.0/fromJS()"},"label":"fromJS()","url":"/docs/v4.2.0/fromJS()"},"sidebarLinks":[{"label":"List","url":"/docs/v4.2.0/List"},{"label":"Map","url":"/docs/v4.2.0/Map"},{"label":"OrderedMap","url":"/docs/v4.2.0/OrderedMap"},{"label":"Set","url":"/docs/v4.2.0/Set"},{"label":"OrderedSet","url":"/docs/v4.2.0/OrderedSet"},{"label":"Stack","url":"/docs/v4.2.0/Stack"},{"label":"Range()","url":"/docs/v4.2.0/Range()"},{"label":"Repeat()","url":"/docs/v4.2.0/Repeat()"},{"label":"Record","url":"/docs/v4.2.0/Record"},{"label":"Record.Factory","url":"/docs/v4.2.0/Record.Factory"},{"label":"Seq","url":"/docs/v4.2.0/Seq"},{"label":"Seq.Keyed","url":"/docs/v4.2.0/Seq.Keyed"},{"label":"Seq.Indexed","url":"/docs/v4.2.0/Seq.Indexed"},{"label":"Seq.Set","url":"/docs/v4.2.0/Seq.Set"},{"label":"Collection","url":"/docs/v4.2.0/Collection"},{"label":"Collection.Keyed","url":"/docs/v4.2.0/Collection.Keyed"},{"label":"Collection.Indexed","url":"/docs/v4.2.0/Collection.Indexed"},{"label":"Collection.Set","url":"/docs/v4.2.0/Collection.Set"},{"label":"ValueObject","url":"/docs/v4.2.0/ValueObject"},{"label":"fromJS()","url":"/docs/v4.2.0/fromJS()"},{"label":"is()","url":"/docs/v4.2.0/is()"},{"label":"hash()","url":"/docs/v4.2.0/hash()"},{"label":"isImmutable()","url":"/docs/v4.2.0/isImmutable()"},{"label":"isCollection()","url":"/docs/v4.2.0/isCollection()"},{"label":"isKeyed()","url":"/docs/v4.2.0/isKeyed()"},{"label":"isIndexed()","url":"/docs/v4.2.0/isIndexed()"},{"label":"isAssociative()","url":"/docs/v4.2.0/isAssociative()"},{"label":"isOrdered()","url":"/docs/v4.2.0/isOrdered()"},{"label":"isValueObject()","url":"/docs/v4.2.0/isValueObject()"},{"label":"isSeq()","url":"/docs/v4.2.0/isSeq()"},{"label":"isList()","url":"/docs/v4.2.0/isList()"},{"label":"isMap()","url":"/docs/v4.2.0/isMap()"},{"label":"isOrderedMap()","url":"/docs/v4.2.0/isOrderedMap()"},{"label":"isStack()","url":"/docs/v4.2.0/isStack()"},{"label":"isSet()","url":"/docs/v4.2.0/isSet()"},{"label":"isOrderedSet()","url":"/docs/v4.2.0/isOrderedSet()"},{"label":"isRecord()","url":"/docs/v4.2.0/isRecord()"},{"label":"get()","url":"/docs/v4.2.0/get()"},{"label":"has()","url":"/docs/v4.2.0/has()"},{"label":"remove()","url":"/docs/v4.2.0/remove()"},{"label":"set()","url":"/docs/v4.2.0/set()"},{"label":"update()","url":"/docs/v4.2.0/update()"},{"label":"getIn()","url":"/docs/v4.2.0/getIn()"},{"label":"hasIn()","url":"/docs/v4.2.0/hasIn()"},{"label":"removeIn()","url":"/docs/v4.2.0/removeIn()"},{"label":"setIn()","url":"/docs/v4.2.0/setIn()"},{"label":"updateIn()","url":"/docs/v4.2.0/updateIn()"},{"label":"merge()","url":"/docs/v4.2.0/merge()"},{"label":"mergeWith()","url":"/docs/v4.2.0/mergeWith()"},{"label":"mergeDeep()","url":"/docs/v4.2.0/mergeDeep()"},{"label":"mergeDeepWith()","url":"/docs/v4.2.0/mergeDeepWith()"}]},"__N_SSG":true}